{"ast":null,"code":"import _regeneratorRuntime from\"E:/Github/react-01/goit-react-hw-07-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/Github/react-01/goit-react-hw-07-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{addContactRequest,addContactSuccess,addContactError,deleteContactRequest,deleteContactSuccess,deleteContactError,fetchContactsRequest,fetchContactsSuccess,fetchContactsError}from\"./phonebook-actions\";axios.defaults.baseURL=\"http://localhost:3000/\";var fetchContacts=function fetchContacts(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(fetchContactsRequest());_context.prev=1;_context.next=4;return axios.get(\"/contacts\");case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch(fetchContactsSuccess(data));_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);dispatch(fetchContactsError(_context.t0));case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};var addContact=function addContact(name,number){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var contact,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:contact={name:name,number:number};dispatch(addContactRequest());_context2.prev=2;_context2.next=5;return axios.post(\"/contacts\",contact);case 5:_yield$axios$post=_context2.sent;data=_yield$axios$post.data;dispatch(addContactSuccess(data));_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](2);dispatch(addContactError(_context2.t0));case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[2,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};var deleteContact=function deleteContact(contactId){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var _yield$axios$delete,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch(deleteContactRequest());_context3.prev=1;_context3.next=4;return axios.delete(\"/contacts/\".concat(contactId));case 4:_yield$axios$delete=_context3.sent;data=_yield$axios$delete.data;dispatch(deleteContactSuccess(contactId));_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](1);dispatch(deleteContactError(_context3.t0));case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[1,9]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};// const fetchContacts = () => (dispatch) => {\n//   dispatch(fetchContactsRequest());\n//   axios\n//     .get(\"/contacts\")\n//     .then(({ data }) => dispatch(fetchContactsSuccess(data)))\n//     .catch((error) => dispatch(fetchContactsError(error)));\n// };\n// const addContact = (name, number) => (dispatch) => {\n//   const contact = { name, number };\n//   dispatch(addContactRequest());\n//   axios\n//     .post(\"/contacts\", contact)\n//     .then(({ data }) => dispatch(addContactSuccess(data)))\n//     .catch((error) => dispatch(addContactError(error)));\n// };\n// const deleteContact = (contactId) => (dispatch) => {\n//   dispatch(deleteContactRequest());\n//   axios\n//     .delete(`/contacts/${contactId}`)\n//     .then(() => dispatch(deleteContactSuccess(contactId)))\n//     .catch((error) => dispatch(deleteContactError(error)));\n// };\nexport default{fetchContacts:fetchContacts,addContact:addContact,deleteContact:deleteContact};","map":{"version":3,"sources":["E:/Github/react-01/goit-react-hw-07-phonebook/src/redux/phonebook/phonebook-operations.js"],"names":["axios","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","fetchContactsRequest","fetchContactsSuccess","fetchContactsError","defaults","baseURL","fetchContacts","dispatch","get","data","addContact","name","number","contact","post","deleteContact","contactId","delete"],"mappings":"qUAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,iBADF,CAEEC,iBAFF,CAGEC,eAHF,CAIEC,oBAJF,CAKEC,oBALF,CAMEC,kBANF,CAOEC,oBAPF,CAQEC,oBARF,CASEC,kBATF,KAUO,qBAVP,CAWAT,KAAK,CAACU,QAAN,CAAeC,OAAf,CAAyB,wBAAzB,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,kGAAM,iBAAOC,QAAP,4IAC1BA,QAAQ,CAACN,oBAAoB,EAArB,CAAR,CAD0B,sCAIDP,CAAAA,KAAK,CAACc,GAAN,CAAU,WAAV,CAJC,uCAIhBC,IAJgB,kBAIhBA,IAJgB,CAKxBF,QAAQ,CAACL,oBAAoB,CAACO,IAAD,CAArB,CAAR,CALwB,+EAOxBF,QAAQ,CAACJ,kBAAkB,aAAnB,CAAR,CAPwB,oEAAN,gEAAtB,CAWA,GAAMO,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,CAAOC,MAAP,kGAAkB,kBAAOL,QAAP,yJAC7BM,OAD6B,CACnB,CAAEF,IAAI,CAAJA,IAAF,CAAQC,MAAM,CAANA,MAAR,CADmB,CAEnCL,QAAQ,CAACZ,iBAAiB,EAAlB,CAAR,CAFmC,wCAKVD,CAAAA,KAAK,CAACoB,IAAN,CAAW,WAAX,CAAwBD,OAAxB,CALU,yCAKzBJ,IALyB,mBAKzBA,IALyB,CAMjCF,QAAQ,CAACX,iBAAiB,CAACa,IAAD,CAAlB,CAAR,CANiC,qFAQjCF,QAAQ,CAACV,eAAe,cAAhB,CAAR,CARiC,uEAAlB,kEAAnB,CAYA,GAAMkB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,SAAD,kGAAe,kBAAMT,QAAN,mJACnCA,QAAQ,CAACT,oBAAoB,EAArB,CAAR,CADmC,wCAIVJ,CAAAA,KAAK,CAACuB,MAAN,qBAA0BD,SAA1B,EAJU,2CAIzBP,IAJyB,qBAIzBA,IAJyB,CAKnCF,QAAQ,CAACR,oBAAoB,CAACiB,SAAD,CAArB,CAAR,CALmC,mFAOjCT,QAAQ,CAACP,kBAAkB,cAAnB,CAAR,CAPiC,sEAAf,kEAAtB,CAYA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA,cAAe,CAAEM,aAAa,CAAbA,aAAF,CAAiBI,UAAU,CAAVA,UAAjB,CAA6BK,aAAa,CAAbA,aAA7B,CAAf","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n} from \"./phonebook-actions\";\r\naxios.defaults.baseURL = \"http://localhost:3000/\";\r\n\r\nconst fetchContacts = () => async (dispatch) => {\r\n  dispatch(fetchContactsRequest());\r\n\r\n  try {\r\n    const { data } = await axios.get(\"/contacts\");\r\n    dispatch(fetchContactsSuccess(data));\r\n  } catch (error) {\r\n    dispatch(fetchContactsError(error));\r\n  }\r\n};\r\n\r\nconst addContact = (name, number) => async (dispatch) => {\r\n  const contact = { name, number };\r\n  dispatch(addContactRequest());\r\n\r\n  try {\r\n    const { data } = await axios.post(\"/contacts\", contact);\r\n    dispatch(addContactSuccess(data));\r\n  } catch (error) {\r\n    dispatch(addContactError(error));\r\n  }\r\n};\r\n\r\nconst deleteContact = (contactId) => async dispatch => {\r\n  dispatch(deleteContactRequest());\r\n\r\n  try {\r\n    const { data } = await axios.delete(`/contacts/${contactId}`);\r\n  dispatch(deleteContactSuccess(contactId))\r\n  } catch (error) {\r\n    dispatch(deleteContactError(error))\r\n  } \r\n\r\n};\r\n\r\n// const fetchContacts = () => (dispatch) => {\r\n//   dispatch(fetchContactsRequest());\r\n\r\n//   axios\r\n//     .get(\"/contacts\")\r\n//     .then(({ data }) => dispatch(fetchContactsSuccess(data)))\r\n//     .catch((error) => dispatch(fetchContactsError(error)));\r\n// };\r\n\r\n// const addContact = (name, number) => (dispatch) => {\r\n//   const contact = { name, number };\r\n\r\n//   dispatch(addContactRequest());\r\n\r\n//   axios\r\n//     .post(\"/contacts\", contact)\r\n//     .then(({ data }) => dispatch(addContactSuccess(data)))\r\n//     .catch((error) => dispatch(addContactError(error)));\r\n// };\r\n\r\n// const deleteContact = (contactId) => (dispatch) => {\r\n//   dispatch(deleteContactRequest());\r\n\r\n//   axios\r\n//     .delete(`/contacts/${contactId}`)\r\n//     .then(() => dispatch(deleteContactSuccess(contactId)))\r\n//     .catch((error) => dispatch(deleteContactError(error)));\r\n// };\r\n\r\nexport default { fetchContacts, addContact, deleteContact };\r\n"]},"metadata":{},"sourceType":"module"}